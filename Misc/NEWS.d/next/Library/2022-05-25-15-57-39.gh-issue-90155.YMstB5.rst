Fix broken :class:`asyncio.Semaphore` when acquire is cancelled.
