Fix infinite loop in unittest when a self-referencing chained exception is raised
